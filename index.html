
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="images/favicon-7af61118.png">
        <meta
            name="description"
            content="API Documentation for Joinup Providers"
        >
    <title>Joinup API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-6c883f0c.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-5c9001fd.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="https://joinup.es"><img src="images/logo-829d989f.png" class="logo" alt="" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#1-introduction" class="toc-h1 toc-link" data-title="1. Introduction">1. Introduction</a>
          </li>
          <li>
            <a href="#2-integration-types" class="toc-h1 toc-link" data-title="2. Integration types">2. Integration types</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2-1-client-to-server" class="toc-h2 toc-link" data-title="2.1 Client to server">2.1 Client to server</a>
                  </li>
                  <li>
                    <a href="#2-2-server-to-server" class="toc-h2 toc-link" data-title="2.2 Server to server">2.2 Server to server</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#3-urls" class="toc-h1 toc-link" data-title="3. URLs">3. URLs</a>
          </li>
          <li>
            <a href="#4-configuration-provider" class="toc-h1 toc-link" data-title="4. Configuration provider">4. Configuration provider</a>
          </li>
          <li>
            <a href="#5-authentication-authorization-amp-impersonate" class="toc-h1 toc-link" data-title="5. Authentication, Authorization &amp; Impersonate">5. Authentication, Authorization &amp; Impersonate</a>
          </li>
          <li>
            <a href="#6-signup" class="toc-h1 toc-link" data-title="6. Signup">6. Signup</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6-1-http-request" class="toc-h2 toc-link" data-title="6.1 HTTP Request">6.1 HTTP Request</a>
                  </li>
                  <li>
                    <a href="#6-2-signup-attributes-data" class="toc-h2 toc-link" data-title="6.2 Signup attributes data">6.2 Signup attributes data</a>
                  </li>
                  <li>
                    <a href="#6-3-signup-attributes-response" class="toc-h2 toc-link" data-title="6.3 Signup attributes response">6.3 Signup attributes response</a>
                  </li>
                  <li>
                    <a href="#6-4-status-codes" class="toc-h2 toc-link" data-title="6.4 Status codes">6.4 Status codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#7-validates" class="toc-h1 toc-link" data-title="7. Validates">7. Validates</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7-1-validate-email" class="toc-h2 toc-link" data-title="7.1 Validate email">7.1 Validate email</a>
                  </li>
                  <li>
                    <a href="#7-2-validate-phone" class="toc-h2 toc-link" data-title="7.2 Validate phone">7.2 Validate phone</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8-profile" class="toc-h1 toc-link" data-title="8. Profile">8. Profile</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#8-1-get-profile" class="toc-h2 toc-link" data-title="8.1 Get Profile">8.1 Get Profile</a>
                  </li>
                  <li>
                    <a href="#8-2-edit-profile" class="toc-h2 toc-link" data-title="8.2 Edit profile">8.2 Edit profile</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#9-zone" class="toc-h1 toc-link" data-title="9. Zone">9. Zone</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#9-1-http-request" class="toc-h2 toc-link" data-title="9.1 HTTP Request">9.1 HTTP Request</a>
                  </li>
                  <li>
                    <a href="#9-2-query-parameters" class="toc-h2 toc-link" data-title="9.2 Query Parameters">9.2 Query Parameters</a>
                  </li>
                  <li>
                    <a href="#9-3-zone-attributes-response" class="toc-h2 toc-link" data-title="9.3 Zone attributes response">9.3 Zone attributes response</a>
                  </li>
                  <li>
                    <a href="#9-4-status-code" class="toc-h2 toc-link" data-title="9.4 Status code">9.4 Status code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#10-service" class="toc-h1 toc-link" data-title="10. Service">10. Service</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#10-1-create-service" class="toc-h2 toc-link" data-title="10.1 Create Service">10.1 Create Service</a>
                  </li>
                  <li>
                    <a href="#10-2-edit" class="toc-h2 toc-link" data-title="10.2 Edit">10.2 Edit</a>
                  </li>
                  <li>
                    <a href="#10-3-current" class="toc-h2 toc-link" data-title="10.3 Current">10.3 Current</a>
                  </li>
                  <li>
                    <a href="#10-4-services" class="toc-h2 toc-link" data-title="10.4 Services">10.4 Services</a>
                  </li>
                  <li>
                    <a href="#10-5-cancel" class="toc-h2 toc-link" data-title="10.5 Cancel">10.5 Cancel</a>
                  </li>
                  <li>
                    <a href="#10-6-vote" class="toc-h2 toc-link" data-title="10.6 Vote">10.6 Vote</a>
                  </li>
                  <li>
                    <a href="#10-7-service-status" class="toc-h2 toc-link" data-title="10.7 Service Status">10.7 Service Status</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#11-places" class="toc-h1 toc-link" data-title="11. Places">11. Places</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#11-1-http-request" class="toc-h2 toc-link" data-title="11.1 HTTP Request">11.1 HTTP Request</a>
                  </li>
                  <li>
                    <a href="#11-2-query-parameters" class="toc-h2 toc-link" data-title="11.2 Query Parameters">11.2 Query Parameters</a>
                  </li>
                  <li>
                    <a href="#11-3-places-attributes-response" class="toc-h2 toc-link" data-title="11.3 Places attributes response">11.3 Places attributes response</a>
                  </li>
                  <li>
                    <a href="#11-4-status-code" class="toc-h2 toc-link" data-title="11.4 Status code">11.4 Status code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#12-address" class="toc-h1 toc-link" data-title="12. Address">12. Address</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#12-1-address-attributes-response" class="toc-h2 toc-link" data-title="12.1 Address attributes response">12.1 Address attributes response</a>
                  </li>
                  <li>
                    <a href="#12-2-get-all-address" class="toc-h2 toc-link" data-title="12.2 Get All Address">12.2 Get All Address</a>
                  </li>
                  <li>
                    <a href="#12-3-get-an-address" class="toc-h2 toc-link" data-title="12.3 Get an Address">12.3 Get an Address</a>
                  </li>
                  <li>
                    <a href="#12-4-create-an-address" class="toc-h2 toc-link" data-title="12.4 Create an Address">12.4 Create an Address</a>
                  </li>
                  <li>
                    <a href="#12-5-edit-an-address" class="toc-h2 toc-link" data-title="12.5 Edit an Address">12.5 Edit an Address</a>
                  </li>
                  <li>
                    <a href="#12-6-delete-an-address" class="toc-h2 toc-link" data-title="12.6 Delete an address">12.6 Delete an address</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#13-push-notifications" class="toc-h1 toc-link" data-title="13. Push notifications">13. Push notifications</a>
          </li>
          <li>
            <a href="#14-success-codes" class="toc-h1 toc-link" data-title="14. Success codes">14. Success codes</a>
          </li>
          <li>
            <a href="#15-errors" class="toc-h1 toc-link" data-title="15. Errors">15. Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://joinup.es'>Joinup website</a></li>
            <li><a href='mailto:integrations@joinup.es'>Contact to get the credentials</a></li>
            <li><a href='https://github.com/we-are-Joinup/provider-api-doc'>Source code of the documentation</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class='content introduction'><h1 id='1-introduction'>1. Introduction</h1>
<p><strong>Congrats</strong> you are about to work with the most mobility friendly system:</p>

<p>- Why do dragons sleep during the day?</p>

<p>- So they can fight knights</p>

<p><strong>;-)</strong></p>

<p><strong>Welcome</strong> to the <strong>API Documentation for Joinup Providers</strong>!</p>

<p>You can use our API to request Joinups (taxis, VTCs and motorcycles) using our API endpoints.</p>

<p>We have language bindings in Shell, Python &amp; Java, but you can use any programming language (Python, Java, Ruby, Javascript, etc). You can find code examples in the right dark area.</p>
</div><div class='content integrations'><h1 id='2-integration-types'>2. Integration types</h1>
<p>You can integrate with us in several ways. In this documentation, we will focus on Server to server integration, but you must know that you can connect with us from client to server. In client to server integration the endpoints are the same, almost everything is the same, but for example the <a href="./#5-authentication-authorization-amp-impersonate">AAI</a> (Authentication and authorization infrastructure) is different or we don&#39;t need an own <a href="./#13-push-notifications">push system</a>.</p>
<h2 id='2-1-client-to-server'>2.1 Client to server</h2>
<p>You can choose between two ways:</p>

<p>- Own development. You can create a Web or App and connect with this API</p>

<p>- We can clone our web or/and our app for you with several customizations. We can do it very quickly :-)</p>
<h2 id='2-2-server-to-server'>2.2 Server to server</h2><h3 id='2-2-1-where-to-start'>2.2.1 Where to start?</h3>
<p>There are several endpoints in this documentation, but there is only one mandatory endpoint: <a href="./#10-1-create-service">Create Service</a>. But if do you want do an integration more rich we have another endpoints to use</p>

<p>By importance, the next endpoint is to <a href="./#10-5-cancel">Cancel service</a>. It is not mandatory, but it is very recommended if you want to cancel a service after request.</p>

<p>If your services may be modified after request them, so you should be use <a href="./#10-2-edit">Edit service</a></p>

<p>You can use a generic user for the integration or you can use a specific user for every request. So, if you want to request a service to <code>John Smith</code>, you will create (<a href="./#6-signup">signup</a>) a user for <code>John Smith</code> in our system the first time, and after it you will create a service in our system. If <code>John Smith</code> wants another service, you do not have to create a user the next time. See more info in <a href="./#5-authentication-authorization-amp-impersonate">AAI</a> section.</p>

<p>To track services we recommend to use <a href="./#10-3-current">Current endpoint</a>. Although we enable <a href="./#13-push-notifications">push notifications</a>, polling is highly recommended. We recommend you to call to this endpoint every 30 seconds or one time per minute for good feedback about your services.</p>
<h3 id='2-2-2-where-to-continue'>2.2.2 Where to continue?</h3>
<p>If you want to go deeper into the integration. We recommend you to use <a href="./#9-zone">Zone</a>. Every zone has a configuration. The configuration is not the same in a big city than in a little city or a town, in the downtown of a city than in the suburbs of a city, in an airport than in another airport</p>

<p>With <a href="./#9-zone">Zone endpoint</a>, you can knows the available taxi types (conventionals, six seats, ecos, electrics, high-ends, adapteds, etc), if you can request an immediate service, if there is cost cancellation in this zone, if destination is required, min time to request a reservation, etc</p>

<p>But if you want to request only conventional taxis, and you can request them within a reasonable time... Really, this endpoint is not necessary</p>

<p>Also, we recommend you use <a href="./#11-places">Places</a> if you want to request services in railstations or airports. But if you are not going to request in these places it is not necessary for you too</p>

<p>If you do not choose the generic user option and your users can change his/her data: first name, last name, phone or even gender. So, you should use <a href="./#8-2-edit-profile">Edit profile</a></p>

<p>For good feedback. Please, you should use <a href="./#10-6-vote-optional">Vote endpoint</a>. If we do not know what we&#39;re doing wrong, we won&#39;t be able to improve for you :-)</p>
<h3 id='2-2-3-other-endpoints'>2.2.3 Other endpoints</h3>
<p>If you have a solution where endusers signup, so it is possible that you want to use <a href="./#7-validates">Validates endpoints</a></p>

<p>We have documented: <a href="./#10-4-services">Services</a> e.g.: to synchronize one time per day (e.g.: a taxi driver was wrong for an amount, and we can update it after finishing the service). <a href="./#8-1-get-profile">Get Profile</a> if you want to get the data we have about a user or <a href="./#12-address">Address</a> to save the favorite addresses of the users (e.g.: home, work, etc)</p>

<p>Also, we have about 20 endpoints undocumented more. So, if you need something, please <a href="mailto:integrations@joinup.es">contact us</a> because it is very possible that we have developed it.</p>

<!-- Link section -->
</div><div class='content urls'><h1 id='3-urls'>3. URLs</h1>
<aside class="notice">
     This documentation will use the next host: https://api.joinupbackend, but this host will be changed for a real host when you implement the integration.
</aside>

<p>Every URL has next path prefix:  /api/corporative-PROVIDER-PREFIX/apps/passenger/PLATFORM/VERSION/</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PROVIDER-PREFIX</td>
<td>Identificator of your system in our URL path. You can choose it</td>
</tr>
<tr>
<td>PLATFORM</td>
<td>server</td>
</tr>
<tr>
<td>VERSION</td>
<td>3.15.0</td>
</tr>
</tbody></table>
</div><div class='content config'><h1 id='4-configuration-provider'>4. Configuration provider</h1>
<p>We try to adapt to your system and for this reason we have several parameters that we can configure for you in our system.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Recommendation</th>
</tr>
</thead><tbody>
<tr>
<td>Name</td>
<td>It is only a name.</td>
<td>Name of your system</td>
</tr>
<tr>
<td>Prefix</td>
<td>URL prefix</td>
<td><a href="https://stackoverflow.com/questions/4357007/what-does-slug-mean">Slugify</a> of name of your system</td>
</tr>
<tr>
<td>Enabled</td>
<td>It works to disable the integration very quickly.</td>
<td>True</td>
</tr>
<tr>
<td>Send mail?</td>
<td>If you want our system send emails.e.g.: After signup</td>
<td>False</td>
</tr>
<tr>
<td>Send sms?</td>
<td>If you want our system send SMSs.e.g.: After signup</td>
<td>False</td>
</tr>
<tr>
<td>Available taxi types</td>
<td>The taxi types that your users can requests: conventional, six seats, eco, electric car, high-end, screen or adapted</td>
<td>e.g.: conventional and six seats</td>
</tr>
<tr>
<td>Self-validated phone?</td>
<td>If you want that our system validates the phone of your users or if you want that we trust in the validation in your system.</td>
<td>True</td>
</tr>
<tr>
<td>Self-validated email?</td>
<td>If you want that our system validates the e-mail of your users or if you want that we trust in the validation in your system.</td>
<td>True</td>
</tr>
<tr>
<td>Can passengers vote?</td>
<td>If you want that your users can vote your services in our system</td>
<td>True</td>
</tr>
<tr>
<td>Skip reservation pickup date validation?</td>
<td>Our bookings have a minimum time to request. E.g.: No sense requesting a booking for a minute. But if you want we can skip this validation</td>
<td>False</td>
</tr>
<tr>
<td>Default company</td>
<td>Any passenger registered will be added to this company by default. This is for billing. If a passenger belongs to a company, so your system can request a taxi service on credit.</td>
<td>This company has a lot of configuration too</td>
</tr>
<tr>
<td>Allow companies</td>
<td>Your system can register a user of these companies. The difference with the previous attribute is that you can have several companies with different configurations. And you have to set the company of every passenger in the signup endpoint</td>
<td>None</td>
</tr>
<tr>
<td>Area</td>
<td>Your users may only request services in this area</td>
<td>None</td>
</tr>
<tr>
<td>Association</td>
<td>Any service requested by your users will be assigned to the indicated association</td>
<td>None</td>
</tr>
<tr>
<td>Always services for association</td>
<td>True: every service will be for the previous association. False: Only when pickup zone or destination zone will be a  zone of this association</td>
<td>False</td>
</tr>
</tbody></table>

<aside class="notice">
Also we have more configurations like differents request options or bill options. But we prefer talk about it in a private conversation.
</aside>

<!-- Link section -->
</div><div class='content auth'><h1 id='5-authentication-authorization-amp-impersonate'>5. Authentication, Authorization &amp; Impersonate</h1>
<blockquote>
<p>To authorization, use this code when we are creating an user:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"api_endpoint_here"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: JWT beep-beep-beep-beep-beep"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'JWT beep-beep-beep-beep-beep'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api_endpoint_here'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"api_endpoint_here"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"JWT beep-beep-beep-beep-beep"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>Or use this another code when we are accessing to another endpoint (authorization with your private token, and authentication with username of the user):</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"api_endpoint_here"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: JWT beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'JWT beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api_endpoint_here'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"api_endpoint_here"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"JWT beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>Make sure to replace <code>beep-beep-beep-beep-beep</code> with your private token.</p>
</blockquote>

<p>Joinup API expects for the token to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: beep-beep-beep-beep-beep</code></p>

<aside class="notice">
You must replace <code>beep-beep-beep-beep-beep</code> with your token.
</aside>
</div><div class='content signup'><h1 id='6-signup'>6. Signup</h1><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/signup/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
      "email":"test@example.com", 
      "first_name":"Test",
      "last_name": "Foo",
      "phone": "+34123456780"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'test@example.com'</span><span class="p">,</span>
    <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Test'</span><span class="p">,</span>
    <span class="s">'last_name'</span><span class="p">:</span> <span class="s">'Foo'</span><span class="p">,</span>
    <span class="s">'phone'</span><span class="p">:</span> <span class="s">'+34123456780'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/signup/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/signup/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n      \"email\":\"test@example.com\", \n      \"first_name\":\"Test\",\n      \"last_name\": \"Foo\",\n      \"phone\": \"+34123456780\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"is_email_validated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_phone_validated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='6-1-http-request'>6.1 HTTP Request</h2>
<p><code>POST https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/signup/</code></p>

<p>This endpoint creates a new passenger, a new user. If you want to use only <a href="./#2-2-server-to-server">a generic user</a> you should do not use this endpoint</p>
<h2 id='6-2-signup-attributes-data'>6.2 Signup attributes data</h2>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>If you do not want that we send mails to your users (See <a href="./#4-configuration-provider">configuration provider</a>. So, you can send fake emails, something like this: USER_ID@DOMAIN_PROVIDER ==&gt; user-37812@example.com)</td>
</tr>
<tr>
<td>first_name</td>
<td>First name of your user.</td>
</tr>
<tr>
<td>last_name</td>
<td>Last name of your user.</td>
</tr>
<tr>
<td>phone</td>
<td>Phone contact of your user.</td>
</tr>
</tbody></table>

<aside class="notice">
First name, last name and phone are important data. Because when the taxi driver arrives he/she can ask for the person (first name and last name) or even call (via call bridge) to the passenger. If you choose for connect with us only a generic user, if you want, you can add this info into the comments
</aside>

<aside class="notice">
In addition to these fields there are undocumented employee/company fields.
</aside>
<h2 id='6-3-signup-attributes-response'>6.3 Signup attributes response</h2>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Token for integrations client to server. Ignore if your integration is server to server</td>
</tr>
<tr>
<td>is_phone_validated</td>
<td>At least that you choose &quot;self validate phone&quot; in <a href="./#4-configuration-provider">configuration provider</a> this will be false</td>
</tr>
<tr>
<td>is_email_validated</td>
<td>At least that you choose &quot;self validate email&quot; in <a href="./#4-configuration-provider">configuration provider</a> this will be false</td>
</tr>
</tbody></table>
<h2 id='6-4-status-codes'>6.4 Status codes</h2>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- A field is empty or there is any validation error, e.g.: there is another user registered with this phone</td>
</tr>
</tbody></table>

<!-- Link section -->
</div><div class='content validate'><h1 id='7-validates'>7. Validates</h1>
<p>These endpoints depend on the configuration provider. These don&#39;t make sense if you want to use only <a href="./#2-2-server-to-server">a generic user</a> or If you want that we set self-validate email / phone in <a href="./#4-configuration-provider">Configuration provider</a></p>
<h2 id='7-1-validate-email'>7.1 Validate email</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/email/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
      "email_code": "1234"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'email_code'</span><span class="p">:</span> <span class="s">'1234'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/email/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/email/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n      \"email_code\": \"1234\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="nl">"email_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='7-1-1-http-request'>7.1.1 HTTP Request</h3>
<p><code>PUT https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/email/</code></p>

<p>This endpoint validates the email of a user. Our system sends an email with a code, you have to call to this endpoint with this value in <code>email_code</code></p>
<h3 id='7-1-2-validate-email-attributes-response'>7.1.2 Validate email attributes response</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email_code</td>
<td>Returns email code when the request had success, otherwise returns a 400 Bad request</td>
</tr>
</tbody></table>
<h3 id='7-1-3-status-code'>7.1.3 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- The email code is invalid</td>
</tr>
</tbody></table>
<h2 id='7-2-validate-phone'>7.2 Validate phone</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/phone/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
      "phone_code": "5678"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'phone_code'</span><span class="p">:</span> <span class="s">'5678'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/phone/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/phone/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n      \"phone_code\": \"5678\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="nl">"phone_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5678"</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='7-2-1-http-request'>7.2.1 HTTP Request</h3>
<p><code>PUT https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/validation/phone/</code></p>

<p>This endpoint validates the phone of a user. Our system sends a SMS with a code, you have to call to this endpoint with this value in <code>phone_code</code></p>
<h3 id='7-2-2-validate-email-attributes-response'>7.2.2 Validate email attributes response</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone_code</td>
<td>Returns phone code when the request had success, otherwise returns a 400 Bad request</td>
</tr>
</tbody></table>
<h3 id='7-2-3-success-code'>7.2.3 Success code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- The phone code is invalid</td>
</tr>
</tbody></table>

<!-- Link section -->
</div><div class='content profile'><h1 id='8-profile'>8. Profile</h1><h2 id='8-1-get-profile'>8.1 Get Profile</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dialcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34 123 456 789"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_phone_validated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_email_validated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"vote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allow_taxi_request_personal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allow_taxi_request_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"has_personal_credit_card_valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"has_employee_credit_card_valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cost_cancellation_required_personal_stripe_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cost_cancellation_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"can_test_request"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"required_personal_credit_card"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allow_fixed_rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"default_way_to_pay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"co2_not_emitted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"saved_money"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"can_impersonate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"employee"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>In addition to these fields there are undocumented employee/company fields, &quot;employee&quot; would be a dict</p>
</blockquote>
<h3 id='8-1-1-http-request'>8.1.1 HTTP Request</h3>
<p><code>Get https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/signup/</code></p>

<p>This endpoint gets the passenger profile. If you want to use only <a href="./#2-2-server-to-server">a generic user</a> you should do not use this endpoint</p>

<p>We have the common info to every user (passengers, taxi drivers, Joinup operators, admins, etc) in the <code>User</code> model. And the specific info of a passenger in a <code>Passenger</code> model. For this reason, we have this structure in the json object</p>
<h3 id='8-1-2-profile-attributes-response-user'>8.1.2 Profile attributes response (user)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>email of your user</td>
</tr>
<tr>
<td>first_name</td>
<td>First name of your user</td>
</tr>
<tr>
<td>last_name</td>
<td>Last name of your user</td>
</tr>
</tbody></table>
<h3 id='8-1-3-profile-attributes-response-passenger'>8.1.3 Profile attributes response (passenger)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>gender</td>
<td>undefined, male or female. This field is used for form of address, for courtesy</td>
</tr>
<tr>
<td>image_url</td>
<td>URL of your avatar. We have another undocumented endpoint to upload an avatar.</td>
</tr>
<tr>
<td>dialcode</td>
<td>dial code of his/her phone</td>
</tr>
<tr>
<td>phone</td>
<td>phone of your user</td>
</tr>
<tr>
<td>is_phone_validated</td>
<td>It indicates if this user has the phone validated</td>
</tr>
<tr>
<td>is_email_validated</td>
<td>It indicates if this user has the email validated</td>
</tr>
<tr>
<td>vote</td>
<td>Can the user vote when a service is finished?</td>
</tr>
<tr>
<td>allow_taxi_request_personal</td>
<td>The user can request a service with private value equal to true (See <a href="./#10-1-create-service">Create service endpoint</a>)</td>
</tr>
<tr>
<td>allow_taxi_request_company</td>
<td>The user can request a service with private value equal to false (See <a href="./#10-1-create-service">Create service endpoint</a>)</td>
</tr>
<tr>
<td>has_personal_credit_card_valid</td>
<td>The user has a personal credit card valid</td>
</tr>
<tr>
<td>has_employee_credit_card_valid</td>
<td>The user has a enterprise credit card valid</td>
</tr>
<tr>
<td>cost_cancellation_required_personal_stripe_enabled</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>cost_cancellation_enabled</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>can_test_request</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>required_personal_credit_card</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>allow_fixed_rate</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>default_way_to_pay</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>co2_not_emitted</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>saved_money</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>can_impersonate</td>
<td>Undocumented field</td>
</tr>
</tbody></table>

<aside class="notice">
In addition to these fields there are undocumented employee / company fields.
</aside>
<h3 id='8-1-4-success-code'>8.1.4 Success code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>
<h2 id='8-2-edit-profile'>8.2 Edit profile</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
      "user": {
        "first_name":"Test",
        "last_name": "Foo"
      },
      "phone": "+34123456780",
      "gender": "male"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'user'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'first_name'</span><span class="p">:</span> <span class="s">'Test'</span><span class="p">,</span>
        <span class="s">'last_name'</span><span class="p">:</span> <span class="s">'Foo'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s">'phone'</span><span class="p">:</span> <span class="s">'+34123456780'</span><span class="p">,</span>
    <span class="s">'gender'</span><span class="p">:</span> <span class="s">'male'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n      \"user\": {\n        \"first_name\":\"Test\",\n        \"last_name\": \"Foo\"\n      },\n      \"phone\": \"+34123456780\",\n      \"gender\": \"male\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+34123456780"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
Email can not be updated.
</aside>

<aside class="notice">
If you edit phone field, is_phone_validated field will become false (at least <a href="./#4-configuration-provider">Self-validate phone</a> is set as false) 
</aside>
<h3 id='8-2-1-http-request'>8.2.1 HTTP Request</h3>
<p><code>PUT https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/profile/</code></p>

<p>This endpoint updates several attributes of the passenger profile. If you want to use only <a href="./#2-2-server-to-server">a generic user</a> you should do not use this endpoint</p>
<h3 id='8-2-2-success-code'>8.2.2 Success code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>

<!-- Link section -->
</div><div class='content zone'><h1 id='9-zone'>9. Zone</h1><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/zone/?position=-3.69073,40.40693"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">'position'</span><span class="p">,</span> <span class="s">'-3.69073,40.40693'</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/zone/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/zone/?position=-3.69073,40.40693"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">240</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATOCHA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"immediates"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reservations"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"destination_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_six_seats"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_eco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_electric_car"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_high_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_screen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_adapted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_integrated_taxi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_integrated_vtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"min_time_request_reservation_integrated_moto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:15:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allow_comments"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"only_credit_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"test_zone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"need_place_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"railstation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"taxis"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"has_cost_cancellation_inmmediates_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"has_cost_cancellation_reservations_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company_taxi_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"conventional"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"personal_taxi_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"conventional"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enabled_rate_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"only_credit_service_fixed_rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"delegate_always"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='9-1-http-request'>9.1 HTTP Request</h2>
<p><code>POST https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/zone/?position=-3.69073,40.40693</code></p>

<p>This endpoint returns the configuration of a zone.</p>
<h2 id='9-2-query-parameters'>9.2 Query Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td>Point (longitude,latitude) that you want to know the configuration</td>
<td>True</td>
</tr>
</tbody></table>
<h2 id='9-3-zone-attributes-response'>9.3 Zone attributes response</h2>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the zone</td>
</tr>
<tr>
<td>name</td>
<td>Name of the zone</td>
</tr>
<tr>
<td>immediates</td>
<td>This field indicates if in this zone is enabled immediates services</td>
</tr>
<tr>
<td>reservations</td>
<td>This field indicates if in this zone is enabled bookings. Immediates &amp; reservations fields can be false (it would be a disabled zone for any reason). But reservations can not be false if immediates are true</td>
</tr>
<tr>
<td>destination_required</td>
<td>This indicates if you need to set a destination or not when you are requesting a service</td>
</tr>
<tr>
<td>min_time_request_reservation</td>
<td>Min. time to request a booking for conventional taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_six_seats</td>
<td>Min. time to request a booking for six seats taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_eco</td>
<td>Min. time to request a booking for eco taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_electric_car</td>
<td>Min. time to request a booking for electric taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_high_end</td>
<td>Min. time to request a booking for high-end taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_screen</td>
<td>Min. time to request a booking for screen taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_adapted</td>
<td>Min. time to request a booking for adapted taxis</td>
</tr>
<tr>
<td>min_time_request_reservation_integrated_taxi</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>min_time_request_reservation_integrated_vtc</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>min_time_request_reservation_integrated_moto</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>allow_comments</td>
<td>the user can add comments like: &quot;I am in front of the bank&quot; when requests a service</td>
</tr>
<tr>
<td>only_credit_service</td>
<td>This zone is only for credit services.</td>
</tr>
<tr>
<td>test_zone</td>
<td>A user can request a service, but we are opening this zone and there may be an issue.</td>
</tr>
<tr>
<td>need_place_info</td>
<td>If this value is airport, when you request must fill flight_number &amp; flight_origin fields, these are mandatory. If the value is railstation when you request can fill train_number or train_origin. These are not required.</td>
</tr>
<tr>
<td>taxis</td>
<td>A list of the 50 taxis closest to position param</td>
</tr>
<tr>
<td>has_cost_cancellation_inmmediates_enabled</td>
<td>is there cost cancellation for immediate services?</td>
</tr>
<tr>
<td>has_cost_cancellation_reservations_enabled</td>
<td>is there cost cancellation for bookings?</td>
</tr>
<tr>
<td>company_taxi_types</td>
<td>Taxi types available for create services with private equal to False</td>
</tr>
<tr>
<td>personal_taxi_types</td>
<td>Taxi types available for create services with private equal to True</td>
</tr>
<tr>
<td>message</td>
<td>It is used to communicate any problem to the passenger. E.g.: A demostration</td>
</tr>
<tr>
<td>time_zone</td>
<td>Europe / Madrid, Europe / Paris, Europe / Lisbon, Atlantic/Canary, etc</td>
</tr>
<tr>
<td>enabled_rate_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>only_credit_service_fixed_rate</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>delegate_always</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h2 id='9-4-status-code'>9.4 Status code</h2>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Point (position) out of zone (Users cannot request a Joinup in this point)</td>
</tr>
</tbody></table>
</div><div class='content service'><h1 id='10-service'>10. Service</h1>
<aside class="notice">
Our info is structured in two models. Travellers & Services. We have two models because we have shared services. So, a service can have several travellers. In Service is saved the commmon data, and in traveller is saved the info related to the passengers. Shared services are unDocumented.
</aside>
<h2 id='10-1-create-service'>10.1 Create Service</h2>
<p>This endpoint creates a new service, immediate or booking.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "private": false,
    "reservation": false,
    "pickup_address": "Paseo del Prado, 26 Madrid Espaa",
    "pickup": [-3.693407, 40.4121412],
    "pickup_place_id": null,
    "destination_address": "Calle de Fernando el Catlico, 42 Madrid Espaa",
    "destination": [-3.7121572, 40.4343557],
    "destination_place_id": null,
    "comment": "",
    "rate_data": {
      "taxi_type": "eco"
    },
    "flight_number": "",
    "flight_origin": "",
    "train_number": "",
    "train_origin": "",
    "coupon": null,
    "platform_model": ""
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'private'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">'reservation'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">'pickup_address'</span><span class="p">:</span> <span class="s">'Paseo del Prado, 26 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'pickup'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.693407</span><span class="p">,</span>
        <span class="mf">40.4121412</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'pickup_place_id'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'destination_address'</span><span class="p">:</span> <span class="s">'Calle de Fernando el Cat</span><span class="se">\xF3</span><span class="s">lico, 42 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.7121572</span><span class="p">,</span>
        <span class="mf">40.4343557</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'destination_place_id'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'comment'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'rate_data'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'taxi_type'</span><span class="p">:</span> <span class="s">'eco'</span>
    <span class="p">},</span>
    <span class="s">'flight_number'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'flight_origin'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'train_number'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'train_origin'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'coupon'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'platform_model'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n    \"private\": false,\n    \"reservation\": false,\n    \"pickup_address\": \"Paseo del Prado, 26 Madrid Espa\xF1a\",\n    \"pickup\": [-3.693407, 40.4121412],\n    \"pickup_place_id\": null,\n    \"destination_address\": \"Calle de Fernando el Cat\xF3lico, 42 Madrid Espa\xF1a\",\n    \"destination\": [-3.7121572, 40.4343557],\n    \"destination_place_id\": null,\n    \"comment\": \"\",\n    \"rate_data\": {\n      \"taxi_type\": \"eco\"\n    },\n    \"flight_number\": \"\",\n    \"flight_origin\": \"\",\n    \"train_number\": \"\",\n    \"train_origin\": \"\",\n    \"coupon\": null,\n    \"platform_model\": \"\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>In addition to these fields there are undocumented employee/company fields</p>

<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">440214</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_company_travel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_str"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_with_coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passenger_extra_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"way_to_pay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cost_center"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deferred"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deferred_pk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra_text_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra_text_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra_text_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">  
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">439930</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taxi"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">-3.693407</span><span class="p">,</span><span class="w">
        </span><span class="mf">40.4121412</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-31T11:24:11.169761Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo del Prado, 26 Madrid Espaa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_position"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"destination_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">-3.7121572</span><span class="p">,</span><span class="w">
        </span><span class="mf">40.4343557</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Fernando el Catlico, 42 Madrid Espaa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taxi_pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"finish_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vehicle_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taxi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='10-1-1-http-request'>10.1.1 HTTP Request</h3>
<p><code>POST &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/</code></p>
<h3 id='10-1-2-service-data-request'>10.1.2 Service data request</h3>
<aside class="notice">
In addition to these fields there are undocumented employee/company fields
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>private</td>
<td>True: personal services (passenger pays the service). False: company services (company pays the service)</td>
<td>False (Default is False)</td>
</tr>
<tr>
<td>reservation</td>
<td>True: booking. False: immediate service</td>
<td>True</td>
</tr>
<tr>
<td>pickup_date</td>
<td>Pickup date. Only for bookings</td>
<td>False</td>
</tr>
<tr>
<td>pickup_address</td>
<td>Pickup address</td>
<td>True</td>
</tr>
<tr>
<td>pickup</td>
<td>Pickup point. Format: [longitude, latitude]</td>
<td>True</td>
</tr>
<tr>
<td>pickup_place_id</td>
<td>If user is requesting in an airport or railstation you can add its id in this field for efficiency. See <a href="./#11-places">Place endpoint</a></td>
<td>False</td>
</tr>
<tr>
<td>destination_address</td>
<td>Destination address</td>
<td>False (depends on destination_required field of zone)</td>
</tr>
<tr>
<td>destination</td>
<td>Destination point. Format: [longitude, latitude]</td>
<td>False (depends on destination_required field of zone)</td>
</tr>
<tr>
<td>destination_place_id</td>
<td>If user is requesting in an airport or railstation like destination you can add its id in this field for efficiency. See <a href="./#11-places">Place endpoint</a></td>
<td>False</td>
</tr>
<tr>
<td>comment</td>
<td>Add another info</td>
<td>False</td>
</tr>
<tr>
<td>rate_data.taxi_type</td>
<td><code>Rate data</code> is an object with a lot of info. But for this documentation we only use <code>taxi type</code>. This field will indicate the taxi type (See Available taxi types in <a href="./#4-configuration-provider">Configuration provider</a>)</td>
<td>False (Default is convencional)</td>
</tr>
<tr>
<td>flight_number</td>
<td>Flight info</td>
<td>False (depends on need_place_info field of zone)</td>
</tr>
<tr>
<td>flight_origin</td>
<td>Flight info</td>
<td>False (depends on need_place_info field of zone)</td>
</tr>
<tr>
<td>train_number</td>
<td>Train info</td>
<td>False</td>
</tr>
<tr>
<td>train_origin</td>
<td>Train info</td>
<td>False</td>
</tr>
<tr>
<td>coupon</td>
<td>We have a coupon system. And the user can request a service with a discount coupon</td>
<td>False</td>
</tr>
<tr>
<td>platform_model</td>
<td>Add any identity of your provider and version. e.g.: PROVIDER_ID@1.0.0</td>
<td>False</td>
</tr>
<tr>
<td>way_to_pay</td>
<td>If private is false. You can indicates: cash, credit-card or app</td>
<td>False</td>
</tr>
</tbody></table>
<h3 id='10-1-3-service-attributes-response-traveller'>10.1.3 Service attributes response (traveller)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>Traveller id</td>
</tr>
<tr>
<td>is_company_travel</td>
<td>It is the same like <code>not private</code>. False: personal services (passenger pays the service). True: company services (company pays the service)</td>
</tr>
<tr>
<td>amount_str</td>
<td>Amount in string format</td>
</tr>
<tr>
<td>amount_with_coupon</td>
<td>Amount with the coupon applied</td>
</tr>
<tr>
<td>amount_cancellation</td>
<td>Cancellation amount. When a service is created always is null</td>
</tr>
<tr>
<td>amount_currency</td>
<td>Currency. E.g.: EUR</td>
</tr>
<tr>
<td>passenger_extra_message</td>
<td>Promotional text for some services</td>
</tr>
<tr>
<td>comment</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>way_to_pay</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>coupon</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>cost_center</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>service_reason</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>deferred</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>deferred_pk</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_1</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_2</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_3</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h3 id='10-1-4-service-attributes-response-service'>10.1.4 Service attributes response (service)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>Service id</td>
</tr>
<tr>
<td>taxi</td>
<td>Data of taxi. When a service is created always is null</td>
</tr>
<tr>
<td>state</td>
<td><a href="./#10-7-service-status">Service status</a></td>
</tr>
<tr>
<td>pickup_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (pickup)</td>
</tr>
<tr>
<td>pickup_date</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_place_type</td>
<td>It indicates if you are requesting in a railstation or an airport</td>
</tr>
<tr>
<td>updated_position</td>
<td>When you request in a railstation or in an airport without to get the coordinates from <a href="./#11-places">place endpoint</a> our backend will update the pickup point to the meeting point of the railstation or the airport</td>
</tr>
<tr>
<td>destination_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (destination)</td>
</tr>
<tr>
<td>destination_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>taxi_pickup_date</td>
<td>Date of taxi when it arrives at pickup point. When a service is created always is null</td>
</tr>
<tr>
<td>finish_date</td>
<td>Date of taxi when it arrives at destination point. When a service is created always is null</td>
</tr>
<tr>
<td>vehicle_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_data</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h3 id='10-1-5-status-code'>10.1.5 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Any validation error. E.g.: Address out of zone (Users cannot request a Joinup in this address), in this zone only can requests bookings and you are requesting an immediate service, if you request a booking with less time than zone says in the field <code>min_time_request_reservation_*</code></td>
</tr>
</tbody></table>
<h2 id='10-2-edit'>10.2 Edit</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/440217/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "private": false,
    "reservation": true,
    "pickup_date": "2022-02-02T10:15:00.000Z",
    "pickup_address": "Paseo del Prado, 26 Madrid Espaa",
    "pickup": [-3.693407, 40.4121412],
    "pickup_place_id": null,
    "destination_address": "Calle de Fernando el Catlico, 42 Madrid Espaa",
    "destination": [-3.7121572, 40.4343557],
    "destination_place_id": null,
    "comment": "",
    "rate_data": {
      "taxi_type": "electric"
    },
    "flight_number": "",
    "flight_origin": "",
    "train_number": "",
    "train_origin": "",
    "coupon": null,
    "platform_model": ""
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'private'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">'reservation'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s">'pickup_date'</span><span class="p">:</span> <span class="s">'2022-02-02T10:15:00.000Z'</span><span class="p">,</span>
    <span class="s">'pickup_address'</span><span class="p">:</span> <span class="s">'Paseo del Prado, 26 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'pickup'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.693407</span><span class="p">,</span>
        <span class="mf">40.4121412</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'pickup_place_id'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'destination_address'</span><span class="p">:</span> <span class="s">'Calle de Fernando el Cat</span><span class="se">\xF3</span><span class="s">lico, 42 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.7121572</span><span class="p">,</span>
        <span class="mf">40.4343557</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'destination_place_id'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'comment'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'rate_data'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'taxi_type'</span><span class="p">:</span> <span class="s">'electric'</span>
     <span class="p">},</span>
    <span class="s">'flight_number'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'flight_origin'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'train_number'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'train_origin'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
    <span class="s">'coupon'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">'platform_model'</span><span class="p">:</span> <span class="s">''</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/440217/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/440217/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n    \"private\": false,\n    \"reservation\": true,\n    \"pickup_date\": \"2022-02-02T10:15:00.000Z\",\n    \"pickup_address\": \"Paseo del Prado, 26 Madrid Espa\xF1a\",\n    \"pickup\": [-3.693407, 40.4121412],\n    \"pickup_place_id\": null,\n    \"destination_address\": \"Calle de Fernando el Cat\xF3lico, 42 Madrid Espa\xF1a\",\n    \"destination\": [-3.7121572, 40.4343557],\n    \"destination_place_id\": null,\n    \"comment\": \"\",\n    \"rate_data\": {\n      \"taxi_type\": \"electric\"\n    },\n    \"flight_number\": \"\",\n    \"flight_origin\": \"\",\n    \"train_number\": \"\",\n    \"train_origin\": \"\",\n    \"coupon\": null,\n    \"platform_model\": \"\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">440218</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_str"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cost_center"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">439934</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taxi"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.693407</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.4121412</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T10:15:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo del Prado, 26 Madrid Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_position"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destination_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.7121572</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.4343557</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Fernando el Catlico, 42 Madrid Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taxi_pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vehicle_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taxi"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"is_company_travel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deferred"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deferred_pk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"way_to_pay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_with_coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"passenger_extra_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='10-2-1-http-request'>10.2.1 HTTP Request</h3>
<p><code>PUT &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/request/&lt;ID&gt;</code></p>

<p>This endpoint updates a service. Only for bookings.</p>
<h3 id='10-2-2-url-parameters'>10.2.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of traveller</td>
</tr>
</tbody></table>
<h3 id='10-2-3-status-code'>10.2.3 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Any validation error. E.g.: Address out of zone (Users cannot request a Joinup in this address), if you request a booking with less time than zone says in the field <code>min_time_request_reservation_*</code>, etc</td>
</tr>
</tbody></table>

<aside class="notice">
Same "Service data request", "Service attributes response (traveller)", and "Service attributes response (service)" that in "Create Service"
</aside>
<h2 id='10-3-current'>10.3 Current</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/current/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/current/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/current/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like these:</p>

<p>1: There is not any current service</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>2: There is any current vote service. There is 4 current service (active or pending voting)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">440248</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21.75 "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">439964</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taxi"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cached_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T10:47:54Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Fernando el Catlico, 40 Madrid Espaa"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vote"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>3: There is any current active service. There is 4 current service (active or pending voting)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">440246</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_str"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_company_travel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"way_to_pay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_with_coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"taxi_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conventional"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service__zone__time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Madrid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deferred"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deferred_pk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">  
  </span><span class="nl">"cost_center"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extra_text_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company_extra_fields"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">439962</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reservation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taxi"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">201234</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"cached_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tom Jonhson"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mf">-3.7033387</span><span class="p">,</span><span class="w">
        </span><span class="mf">40.4167278</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234 ABC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reputation_stars"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vehicle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicle_type"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vehicle_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taxi"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.693407</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.4121412</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T10:22:02.642724Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo del Prado, 26 Madrid Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup_place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_position"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destination_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.7121572</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.4343557</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Fernando el Catlico, 42 Madrid Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taxi_pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vehicle_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taxi"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arrival_taxi_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>In addition to these fields there are undocumented employee/company fields and configurations</p>
</blockquote>
<h3 id='10-3-1-http-request'>10.3.1 HTTP Request</h3>
<p>This endpoint returns a current service. If you have several current services you can specify an id. A current service can be a service pending voting or an active service. An active service is a service in state: pending, ongoing, pickup and running. Also an active service is a booking in state reservation or reservation accepted but it is very close to the pickup date.</p>

<p><code>GET &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/current/</code></p>

<p>or</p>

<p><code>GET &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/current/&lt;ID&gt;</code></p>
<h3 id='10-3-2-url-parameters'>10.3.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of traveller</td>
</tr>
</tbody></table>
<h3 id='10-3-3-service-attributes-response-pending-vote'>10.3.3 Service attributes response (pending vote)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>The ID of traveller</td>
</tr>
<tr>
<td>amount_str</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>type</td>
<td>It indicates that user can vote this service</td>
</tr>
<tr>
<td>count</td>
<td>Number of services: book, active or pending vote</td>
</tr>
</tbody></table>

<p>In service attribute:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>The ID of service</td>
</tr>
<tr>
<td>taxi.cached_name</td>
<td>Complete name of the taxi driver</td>
</tr>
<tr>
<td>pickup_date</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>destination_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
</tbody></table>
<h3 id='10-3-4-service-attributes-response-active-service'>10.3.4 Service attributes response (active service)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>The ID of traveller</td>
</tr>
<tr>
<td>amount_str</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>is_company_travel</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>comment</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>way_to_pay</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>coupon</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>amount_with_coupon</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>amount_cancellation</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>amount_currency</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>taxi_type</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (rate_data.taxi_type)</td>
</tr>
<tr>
<td>service_<em>zone</em>_time_zone</td>
<td>Time zone of current zone. E.g.: Europe / Madrid, Europe / Paris, Europe / Lisbon, Atlantic/Canary, etc</td>
</tr>
<tr>
<td>type</td>
<td>It indicates that user has an active service</td>
</tr>
<tr>
<td>count</td>
<td><a href="./#10-3-3-service-attributes-response-pending-vote">Documented in 10.3.3 Service attributes response (pending vote) section</a></td>
</tr>
<tr>
<td>deferred</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>deferred_pk</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>cost_center</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>service_reason</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_1</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_2</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_3</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>company_extra_fields</td>
<td>Undocumented field</td>
</tr>
</tbody></table>

<p>In service attribute:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>The ID of service</td>
</tr>
<tr>
<td>taxi.pk</td>
<td>The ID of taxi</td>
</tr>
<tr>
<td>taxi.cached_name</td>
<td>Complete name of the taxi driver</td>
</tr>
<tr>
<td>taxi.coords</td>
<td>Coordinates of the taxi in real time. Format: [longitude, latitude]</td>
</tr>
<tr>
<td>taxi.license</td>
<td>Taxi licence</td>
</tr>
<tr>
<td>taxi.plate</td>
<td>Taxi plate</td>
</tr>
<tr>
<td>taxi.reputation_stars</td>
<td>Taxi reputation. A value from 0 to 5</td>
</tr>
<tr>
<td>taxi.vehicle</td>
<td>Brand &amp; model of taxi</td>
</tr>
<tr>
<td>taxi.vehicle_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>reservation</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>state</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>pickup_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (pickup)</td>
</tr>
<tr>
<td>pickup_date</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_place_type</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>updated_position</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>destination_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (destination)</td>
</tr>
<tr>
<td>destination_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>taxi_pickup_date</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>finish_date</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>extra_info</td>
<td>A message for the passenger. E.g.: &quot;Personalized welcome with a sign at the exit of the flight&quot;</td>
</tr>
<tr>
<td>arrival_taxi_date</td>
<td>In some zones, we do not know the coords of the taxi. So, we will estimate an arrival taxi date</td>
</tr>
<tr>
<td>vehicle_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_data</td>
<td>Undocumented field</td>
</tr>
</tbody></table>

<aside class="notice">
In addition to these fields there are undocumented employee/company fields and configurations
</aside>
<h3 id='10-3-5-status-code'>10.3.5 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
</tbody></table>
<h2 id='10-4-services'>10.4 Services</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Impersonate: test@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'test@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/'</span><span class="p">,</span> 
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"test@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">440218</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount_str"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_company_travel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"way_to_pay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount_with_coupon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"service__zone__time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Madrid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relaunched"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"finished_from_cancelled_passenger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"taxi_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conventional"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"company_extra_fields"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credit_card"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cost_center"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"service_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deferred"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deferred_pk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra_text_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra_text_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra_text_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"pk"</span><span class="p">:</span><span class="w"> </span><span class="mi">439934</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taxi"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mf">-3.693407</span><span class="p">,</span><span class="w">
          </span><span class="mf">40.4121412</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T10:15:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo del Prado, 26 Madrid Espaa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pickup_place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_position"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"destination_location"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mf">-3.7121572</span><span class="p">,</span><span class="w">
          </span><span class="mf">40.4343557</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"destination_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle de Fernando el Catlico, 42 Madrid Espaa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taxi_pickup_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"finish_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"flight_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"flight_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"train_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"train_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"relaunched"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vehicle_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taxi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>In addition to these fields there are undocumented employee/company fields</p>
</blockquote>
<h3 id='10-4-1-http-request'>10.4.1 HTTP Request</h3>
<p><code>GET https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/</code></p>

<p>This endpoint returns a paginated list of services of an user. This endpoint has parameters to filter the result or order it.</p>
<h3 id='10-4-2-url-parameters'>10.4.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>service__state</td>
<td>You can filter by <a href="./#10-7-service-status">Service status</a></td>
</tr>
<tr>
<td>service_<em>pickup_date</em>_lte</td>
<td>You can filter by pickup date. Less or equal than a value in UTC</td>
</tr>
<tr>
<td>service_<em>pickup_date</em>_gte</td>
<td>You can filter by pickup date. Great or equal than a value in UTC</td>
</tr>
<tr>
<td>ordering</td>
<td>You can order by: service_<em>state, service</em><em>pickup_date, -service</em><em>state, -service</em>_pickup_date</td>
</tr>
</tbody></table>
<h3 id='10-4-3-service-attributes-response-traveller'>10.4.3 Service attributes response (traveller)</h3>
<aside class="notice">
In addition to these fields there are undocumented employee/company fields
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>Traveller id</td>
</tr>
<tr>
<td>amount_str</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>is_company_travel</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>comment</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>way_to_pay</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>coupon</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>amount_with_coupon</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>amount_cancellation</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>amount_currency</td>
<td><a href="./#10-1-3-service-attributes-response-traveller">Documented in 10.1.3 Service attributes response (traveller) section</a></td>
</tr>
<tr>
<td>service_<em>zone</em>_time_zone</td>
<td><a href="./#10-3-4-service-attributes-response-active-service">Documented in 10.3.4 Service attributes response (active service) section</a></td>
</tr>
<tr>
<td>relaunched</td>
<td>Traveller id of the new relaunched traveller</td>
</tr>
<tr>
<td>finished_from_cancelled_passenger</td>
<td>This service was cancelled by passenger, but this service has cancellation amount, so its state is finished</td>
</tr>
<tr>
<td>taxi_type</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (rate_data.taxi_type)</td>
</tr>
<tr>
<td>company_extra_fields</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>credit_card</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>cost_center</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>service_reason</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>deferred</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>deferred_pk</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_1</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_2</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>extra_text_3</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h3 id='10-4-4-service-attributes-response-service'>10.4.4 Service attributes response (service)</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pk</td>
<td>Service id</td>
</tr>
<tr>
<td>taxi</td>
<td>Taxi data <a href="./#10-3-4-service-attributes-response-active-service">Documented in 10.3.4 Service attributes response (active service) section</a></td>
</tr>
<tr>
<td>state</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>pickup_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a> (pickup)</td>
</tr>
<tr>
<td>pickup_date</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>pickup_place_type</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>updated_position</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>destination_location</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>destination_address</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>taxi_pickup_date</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>finish_date</td>
<td><a href="./#10-1-4-service-attributes-response-service">10.1.4 Service attributes response (service)</a></td>
</tr>
<tr>
<td>flight_number</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>flight_origin</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>train_number</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>train_origin</td>
<td><a href="./#10-1-2-service-data-request">Documented in 10.1.2 Service data request section</a></td>
</tr>
<tr>
<td>relaunched</td>
<td>Service id of the new relaunched service</td>
</tr>
<tr>
<td>vehicle_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_type</td>
<td>Undocumented field</td>
</tr>
<tr>
<td>rate_data</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h3 id='10-4-5-status-code'>10.4.5 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
</tbody></table>
<h2 id='10-5-cancel'>10.5 Cancel</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/cancel/&lt;ID&gt;/"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Impersonate: test@example.com"</span> <span class="se">\</span>
   <span class="nt">-X</span> PUT 
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'test@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/cancel/&lt;ID&gt;/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-documentacion/apps/passenger/PLATFORM/VERSION/services/cancel/&lt;ID&gt;/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"test@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"cost_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount_cancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h3 id='10-5-1-http-request'>10.5.1 HTTP Request</h3>
<p><code>PUT &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/cancel/&lt;ID&gt;/</code></p>

<p>This endpoint cancels a service.</p>
<h3 id='10-5-2-url-parameters'>10.5.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of traveller</td>
</tr>
</tbody></table>
<h3 id='10-5-3-attributes-response'>10.5.3 Attributes response</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cost_cancellation</td>
<td>Has this cancellation cost cancellation?</td>
</tr>
<tr>
<td>amount_cancellation</td>
<td>How much is the cancellation cost?</td>
</tr>
</tbody></table>
<h3 id='10-5-4-status-code'>10.5.4 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
<tr>
<td>404</td>
<td>Not found</td>
</tr>
</tbody></table>
<h2 id='10-6-vote'>10.6 Vote</h2>
<p>This endpoint allows users to vote. Depends on <a href="./#4-configuration-provider">configuration provider</a></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/vote/&lt;ID&gt;/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: EMAIL_PASSENGER"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "vote": "down",
    "comment": "bla bla bla"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'EMAIL_PASSENGER'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'vote'</span><span class="p">:</span> <span class="s">'down'</span><span class="p">,</span>
    <span class="s">'comment'</span><span class="p">:</span> <span class="s">'bla bla bla'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/vote/&lt;ID&gt;/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/vote/&lt;ID&gt;/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"EMAIL_PASSENGER"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n    \"vote\": \"down\",\n    \"comment\": \"bla bla bla\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ask_app_vote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='10-6-1-http-request'>10.6.1 HTTP Request</h3>
<p><code>PUT &quot;https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/services/vote/&lt;ID&gt;/</code></p>
<h3 id='10-6-1-vote-data-request'>10.6.1 Vote data request</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>vote</td>
<td>Options: up, down, nothing</td>
<td>True</td>
</tr>
<tr>
<td>comment</td>
<td>Add any info about your vote, specially for down vote</td>
<td>False</td>
</tr>
</tbody></table>
<h3 id='10-6-2-vote-attribute-response'>10.6.2 Vote attribute response</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ask_app_vote</td>
<td>Undocumented field</td>
</tr>
</tbody></table>
<h3 id='10-6-3-status-code'>10.6.3 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
<tr>
<td>404</td>
<td>Not found</td>
</tr>
</tbody></table>
<h2 id='10-7-service-status'>10.7 Service Status</h2>
<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Reserved</td>
<td>Booking</td>
<td>Initial state in a booking</td>
</tr>
<tr>
<td>1</td>
<td>Reserved  accepted</td>
<td>Booking</td>
<td>A taxi driver accepted a booking</td>
</tr>
<tr>
<td>2</td>
<td>Pending</td>
<td>Immediate</td>
<td>Initial state in a immediate service</td>
</tr>
<tr>
<td>3</td>
<td>Ongoing</td>
<td>Immediate/booking</td>
<td>Taxi is ongoing to pickup point</td>
</tr>
<tr>
<td>4</td>
<td>Pickup</td>
<td>Immediate/booking</td>
<td>Taxi is in pickup point</td>
</tr>
<tr>
<td>5</td>
<td>Running</td>
<td>Immediate/booking</td>
<td>Taxi goes to destination</td>
</tr>
<tr>
<td>6</td>
<td>Finished</td>
<td>Immediate/booking</td>
<td>The service is finished successfully</td>
</tr>
<tr>
<td>7</td>
<td>Cancelled passenger</td>
<td>Immediate/booking</td>
<td>Passenger cancelled the service</td>
</tr>
<tr>
<td>8</td>
<td>Cancelled taxi</td>
<td>Immediate/booking</td>
<td>Taxi driver cancelled the service. But our system will create another service and it will search for another taxi. (it is not a common thing)</td>
</tr>
<tr>
<td>9</td>
<td>Cancelled no client</td>
<td>Immediate/booking</td>
<td>Taxi driver cancelled the service because he/she did not find the passenger (more strange still). Our system will not create another service</td>
</tr>
<tr>
<td>10</td>
<td>Dismissed</td>
<td>Immediate/booking</td>
<td>We do not find a taxi driver or there is any error code (more strange still)</td>
</tr>
<tr>
<td>13</td>
<td>Cancelled relaunch</td>
<td>Immediate/booking</td>
<td>The service is relaunching to find a taxi driver. Our system will create another service</td>
</tr>
<tr>
<td>14</td>
<td>Cancelled passenger edited</td>
<td>Immediate/booking</td>
<td>Passenger edit the service, our system will create another service</td>
</tr>
</tbody></table>

<!-- Link section -->
</div><div class='content places'><h1 id='11-places'>11. Places</h1><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Airports closer to Atocha</span>
curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/places/?type=railstation&amp;position=-3.681477,40.398396"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="s">'type'</span><span class="p">,</span> <span class="s">'railstation'</span><span class="p">),</span>
    <span class="p">(</span><span class="s">'position'</span><span class="p">,</span> <span class="s">'-3.681477,40.398396'</span><span class="p">),</span>
<span class="p">)</span>
<span class="c1"># Airports closer to Atocha
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/places/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
    <span class="c1">// Airports closer to Atocha</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/places/?type=railstation&amp;position=-3.681477,40.398396"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aeropuerto Madrid T1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aeropuerto T1 - Salidas"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Point"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mf">-3.5795833262939294</span><span class="p">,</span><span class="w">
            </span><span class="mf">40.477378030587696</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aeropuerto Madrid T2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aeropuerto Madrid Barajas T2 salidas"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Point"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mf">-3.5805006417767104</span><span class="p">,</span><span class="w">
            </span><span class="mf">40.47390771493706</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name of airport of train station"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Postal address of airport of train station"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Point"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="err">longitude</span><span class="p">,</span><span class="w">
            </span><span class="err">latitude</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">

</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='11-1-http-request'>11.1 HTTP Request</h2>
<p><code>GET https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/places/</code></p>

<p>This endpoint retrieves all places (train station and / or airports). You can filter by type, and you can order by closeness to a position</p>
<h2 id='11-2-query-parameters'>11.2 Query Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>railstation or airport. With this parameter filter by train station or airport</td>
<td>False</td>
<td>Return airports &amp; train stations</td>
</tr>
<tr>
<td>position</td>
<td>With this parameter we get the places ordering by closer to this position (longitude, latitude)</td>
<td>False</td>
<td>Return places with random ordering</td>
</tr>
</tbody></table>
<h2 id='11-3-places-attributes-response'>11.3 Places attributes response</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the place</td>
</tr>
<tr>
<td>name</td>
<td>Name of the place</td>
</tr>
<tr>
<td>location</td>
<td>Coordinates about this place (longitude, latitude)</td>
</tr>
<tr>
<td>address</td>
<td>Postal address of the place</td>
</tr>
</tbody></table>
<h2 id='11-4-status-code'>11.4 Status code</h2>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>
</div><div class='content address'><h1 id='12-address'>12. Address</h1><h2 id='12-1-address-attributes-response'>12.1 Address attributes response</h2>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the address</td>
</tr>
<tr>
<td>name</td>
<td>Name of the address</td>
</tr>
<tr>
<td>pickup</td>
<td>Coordinates about this address (longitude, latitude)</td>
</tr>
<tr>
<td>address</td>
<td>Postal address</td>
</tr>
<tr>
<td>type</td>
<td>Type of address: home, work or general.</td>
</tr>
</tbody></table>
<h2 id='12-2-get-all-address'>12.2 Get All Address</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28542</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joinup office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.6945</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.40659</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28543</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My home"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mf">-3.70208</span><span class="p">,</span><span class="w">
      </span><span class="mf">40.45036</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Jan, 10, Madrid, Espaa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"home"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38345</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NAME"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="err">LONGITUDE</span><span class="p">,</span><span class="w">
      </span><span class="err">LATITUDE</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADDRESS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"home|work|general"</span><span class="w">
  </span><span class="p">},</span><span class="w">

</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='12-2-1-http-request'>12.2.1 HTTP Request</h3>
<p><code>GET https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/</code></p>

<p>This endpoint retrieves all address of an user.</p>
<h3 id='12-2-2-status-code'>12.2.2 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>
<h2 id='12-3-get-an-address'>12.3 Get an Address</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28542</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joinup office"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">-3.6945</span><span class="p">,</span><span class="w">
    </span><span class="mf">40.40659</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='12-3-1-http-request'>12.3.1 HTTP Request</h3>
<p>This endpoint retrieves a specific address.</p>

<p><code>GET https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/&lt;ID&gt;</code></p>
<h3 id='12-2-2-url-parameters'>12.2.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the address to retrieve</td>
</tr>
</tbody></table>
<h3 id='12-2-3-status-code'>12.2.3 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
<tr>
<td>404</td>
<td>Not found -- Address does not found or this address belongs to another user</td>
</tr>
</tbody></table>
<h2 id='12-4-create-an-address'>12.4 Create an Address</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "name": "Joinup office",
    "pickup": [
      -3.6945, 40.40659
    ],
    "address": "Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa",
    "type": "work"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'name'</span><span class="p">:</span> <span class="s">'Joinup office'</span><span class="p">,</span>
    <span class="s">'pickup'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.6945</span><span class="p">,</span>
        <span class="mf">40.40659</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'address'</span><span class="p">:</span> <span class="s">'Paseo de Santa Mar</span><span class="se">\xED</span><span class="s">a de la Cabeza, 10, 28045 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'work'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>

</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n    \"name\": \"Joinup office\",\n    \"pickup\": [\n      -3.6945, 40.40659\n    ],\n    \"address\": \"Paseo de Santa Mar\xEDa de la Cabeza, 10, 28045 Madrid Espa\xF1a\",\n    \"type\": \"work\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">28542</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joinup office"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">-3.6945</span><span class="p">,</span><span class="w">
    </span><span class="mf">40.40659</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='12-4-1-http-request'>12.4.1 HTTP Request</h3>
<p><code>POST https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/</code></p>

<p>This endpoint creates a new address.</p>
<h3 id='12-4-1-status-code'>12.4.1 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Address out of zone (Users cannot request a Joinup in this address), the user has already a address with the same name, etc</td>
</tr>
</tbody></table>
<h2 id='12-5-edit-an-address'>12.5 Edit an Address</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "name": "Joinup office (in Madrid)",
    "pickup": [
      -3.6945, 40.40659
    ], 
    "address": "Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa",
    "type": "work"
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'name'</span><span class="p">:</span> <span class="s">'Joinup office (in Madrid)'</span><span class="p">,</span>
    <span class="s">'pickup'</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">3.6945</span><span class="p">,</span>
        <span class="mf">40.40659</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">'address'</span><span class="p">:</span> <span class="s">'Paseo de Santa Mar</span><span class="se">\xED</span><span class="s">a de la Cabeza, 10, 28045 Madrid Espa</span><span class="se">\xF1</span><span class="s">a'</span><span class="p">,</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'work'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n    \"name\": \"Joinup office (in Madrid)\",\n    \"pickup\": [\n      -3.6945, 40.40659\n    ], \n    \"address\": \"Paseo de Santa Mar\xEDa de la Cabeza, 10, 28045 Madrid Espa\xF1a\",\n    \"type\": \"work\"\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">28542</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joinup office (in Madrid)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">-3.6945</span><span class="p">,</span><span class="w">
    </span><span class="mf">40.40659</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paseo de Santa Mara de la Cabeza, 10, 28045 Madrid Espaa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='12-5-1-http-request'>12.5.1 HTTP Request</h3>
<p><code>PUT https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/&lt;ID&gt;</code></p>
<h3 id='12-5-2-url-parameters'>12.5.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the address to retrieve</td>
</tr>
</tbody></table>

<p>This endpoint edit a current address of an user.</p>
<h3 id='12-5-2-status-code'>12.5.2 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request -- Address out of zone (Users cannot request a Joinup in this address), the user has already a address with the same name, etc</td>
</tr>
<tr>
<td>404</td>
<td>Not found -- Address does not found or this address belongs to another user</td>
</tr>
</tbody></table>
<h2 id='12-6-delete-an-address'>12.6 Delete an address</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span> <span class="se">\</span>
  <span class="nt">-X</span> DELETE <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: beep-beep-beep-beep-beep"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Impersonate: foo.bar@example.com"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'beep-beep-beep-beep-beep'</span><span class="p">,</span>
    <span class="s">'Impersonate'</span><span class="p">:</span> <span class="s">'foo.bar@example.com'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span>
  <span class="s">'https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/'</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/28542/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"beep-beep-beep-beep-beep"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Impersonate"</span><span class="o">,</span> <span class="s">"foo.bar@example.com"</span><span class="o">);</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The above command does not return anything (status code 204 No Content).</p>
</blockquote>
<h3 id='12-6-1-http-request'>12.6.1 HTTP Request</h3>
<p>This endpoint deletes a specific address.</p>

<p><code>DELETE https://api.joinupbackend/api/corporative-PROVIDER-SLUG/apps/passenger/PLATFORM/VERSION/address/&lt;ID&gt;</code></p>
<h3 id='12-6-2-url-parameters'>12.6.2 URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the address to delete</td>
</tr>
</tbody></table>
<h3 id='12-6-3-status-code'>12.6.3 Status code</h3>
<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>No Content</td>
</tr>
<tr>
<td>404</td>
<td>Not found -- Address does not found or this address belongs to another user</td>
</tr>
</tbody></table>
</div><div class='content pushes'><h1 id='13-push-notifications'>13. Push notifications</h1>
<blockquote>
<p>It is the only part of the provider integration ad-hoc. But it could be an example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.provider/api/ANY-PATH/"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: auu-auu-auu-auu-auu"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
      "traveller_id": 1234,
      "event": 2
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'auu-auu-auu-auu-auu'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'traveller_id'</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
    <span class="s">'event'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">'https://api.provider/api/ANY-PATH/'</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"https://api.provider/api/ANY-PATH/"</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">httpConn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"auu-auu-auu-auu-auu"</span><span class="o">);</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>

        <span class="n">httpConn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">OutputStreamWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"{\n      \"traveller_id\": 1234,\n      \"event\": 2\n  }"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">httpConn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>

        <span class="nc">InputStream</span> <span class="n">responseStream</span> <span class="o">=</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">2</span>
                <span class="o">?</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()</span>
                <span class="o">:</span> <span class="n">httpConn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">();</span>
        <span class="nc">Scanner</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">responseStream</span><span class="o">).</span><span class="na">useDelimiter</span><span class="o">(</span><span class="s">"\\A"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()</span> <span class="o">?</span> <span class="n">s</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">:</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>To track services in real time, our system can make requests to your system when there is an important event (e.g.: status change). It is possible you do not need it, but it is very recommended if you want to track services.</p>

<p>Our recommendation is to use push notifications and polling system. So you know the data service every 30 seconds / 1 minute and if there is any important event immediately.</p>

<p>In addition to <a href="./#10-7-service-status">status changes</a>, we can inform about next events</p>

<table><thead>
<tr>
<th>Event</th>
<th>Final time</th>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>20</td>
<td>Service final time</td>
<td>Immediate</td>
<td>We are still looking a taxi for you</td>
</tr>
<tr>
<td>22</td>
<td>Service modified</td>
<td>Immediate/booking</td>
<td>Service info has been modified</td>
</tr>
</tbody></table>

<!-- Link section -->
</div><div class='content success'><h1 id='14-success-codes'>14. Success codes</h1>
<p>The Joinup API uses the following status codes:</p>

<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK -- The request was OK</td>
</tr>
<tr>
<td>201</td>
<td>Created -- The request was complete, and a new resource was created</td>
</tr>
<tr>
<td>204</td>
<td>No Content -- A status code and a header are given in the response, but there is no entity-body in the reply</td>
</tr>
</tbody></table>
</div><div class='content errors'><h1 id='15-errors'>15. Errors</h1>
<p>The Joinup API uses the following error status codes:</p>

<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid. Your request does not pass some validation</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your auth header is wrong or it was not provided</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- User in impersonate header can not do this action</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The resource does not exists or the resource belongs to another user</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access our API with an invalid method</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later</td>
</tr>
</tbody></table>
</div>
      <div class="dark-box">
          <div class="lang-selector" style="display:none">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
